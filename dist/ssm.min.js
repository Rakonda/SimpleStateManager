/*! SimpleStateManager | license: MIT | version: 2.4.0 | build date: 2015-04-12 */
!function(a,b,c,d){"function"==typeof define&&define.amd?define(function(){return d(a,b,c)}):"object"==typeof exports?module.exports=d:a.ssm=d(a,b,c)}(window,document,void 0,function(a,b,c){"use strict";var d=!1,e={},f=[],g=0,h=[],i=10,j=null,k=[],l=function(){clearTimeout(j),j=setTimeout(m,i)},m=function(){g=getWidth(),n()},n=function(){for(var a=h.length-1;a>=0;a--)r(h[a].onResize)};e.browserResize=n,e.addState=function(a){var b={id:o(),query:"",onEnter:[],onLeave:[],onResize:[],onFirstRun:[]};return a=p(b,a),"function"==typeof a.onEnter&&(a.onEnter=[a.onEnter]),"function"==typeof a.onLeave&&(a.onLeave=[a.onLeave]),"function"==typeof a.onResize&&(a.onResize=[a.onResize]),"function"==typeof a.onFirstRun&&(a.onFirstRun=[a.onFirstRun]),f.push(a),this},e.updateState=function(a,b){for(var c=f.length-1;c>=0;c--)f[c].id===a&&(f[c]=p(f[c],b));return this},e.removeState=function(a){for(var b=f.length-1;b>=0;b--)f[b].id===a&&f.splice(b,1);return this},e.removeStates=function(a){for(var b=a.length-1;b>=0;b--)e.removeState(a[b]);return this},e.removeAllStates=function(){return f=h=[],this},e.addStates=function(a){for(var b=a.length-1;b>=0;b--)e.addState(a[b]);return this},e.getStates=function(a){var b=null,c=[];if("undefined"==typeof a)return f;b=a.length;for(var d=0;b>d;d++)c.push(q(a[d]));return c},e.addConfigOption=function(a){var b={name:"",test:null};a=p(b,a),""!==a.name&&null!==a.test&&k.push(a)},e.getConfigOption=function(a){if("string"!=typeof a)return k;for(var b=k.length-1;b>=0;b--)if(k[b].name===a)return k[b]},e.removeConfigOption=function(a){for(var b=k.length-1;b>=0;b--)k[b].name===a&&k.splice(b,1)},e.isActive=function(a){for(var b=0;b<h.length;b++)if(h[b].id===a)return!0;return!1},e.getCurrentStates=function(){return h},e.setResizeTimeout=function(a){i=a},e.getResizeTimeout=function(){return i},e.ready=function(){return g=getWidth(),d===!1&&(a.attachEvent?a.attachEvent("onresize",l):a.addEventListener&&a.addEventListener("resize",l,!0),d=!0),n(g),this};var o=function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;10>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},p=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c},q=function(a){for(var b=f.length-1;b>=0;b--)if(f[b].id===a)return f[b]},r=function(a){for(var b=a.length,c=0;b>c;c++)a[c]()};return e});