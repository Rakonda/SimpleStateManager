/*! SimpleStateManager | license: MIT | version: 2.2.4 | build date: 2015-05-08 */
!function(a,b,c){"use strict";var d={},e=[],f=0,g=[],h=10,i=null,j=[],k=function(){clearTimeout(i),i=setTimeout(l,h)},l=function(){f=o(),m(f)},m=function(a){for(var b=e.length,c=j.length,f=[],h=[],i=[],k=!0,l=d,m=0;b>m;m++){k=!0,l.state=e[m],l.browserWidth=a;for(var n=0;c>n;n++)if("undefined"!=typeof l.state[j[n].name]&&(l.callback=j[n].test,l.callback()===!1)){k=!1;break}k?s(g,e[m])?h=h.concat(e[m].onResize):(g.push(e[m]),i=i.concat(e[m].onEnter)):s(g,e[m])&&(f=f.concat(e[m].onLeave),g=t(g,e[m]))}u(f),u(i),u(h)};d.browserResize=m,d.getBrowserWidth=function(){return f},d.addState=function(a){var b={id:n(),minWidth:0,maxWidth:99999,onEnter:[],onLeave:[],onResize:[]};return a=p(b,a),"function"==typeof a.onEnter&&(a.onEnter=[a.onEnter]),"function"==typeof a.onLeave&&(a.onLeave=[a.onLeave]),"function"==typeof a.onResize&&(a.onResize=[a.onResize]),e.push(a),e=q(e,"minWidth"),this},d.updateState=function(a,b){for(var c=e.length-1;c>=0;c--)e[c].id===a&&(e[c]=p(e[c],b));return this},d.removeState=function(a){for(var b=e.length-1;b>=0;b--)e[b].id===a&&e.splice(b,1);return this},d.removeStates=function(a){for(var b=a.length-1;b>=0;b--)d.removeState(a[b]);return this},d.removeAllStates=function(){return e=g=[],this},d.addStates=function(a){for(var b=a.length-1;b>=0;b--)d.addState(a[b]);return this},d.getStates=function(a){var b=null,c=[];if("undefined"==typeof a)return e;b=a.length;for(var d=0;b>d;d++)c.push(r(a[d]));return c},d.addConfigOption=function(a){var b={name:"",test:null};a=p(b,a),""!==a.name&&null!==a.test&&j.push(a)},d.getConfigOption=function(a){if("string"!=typeof a)return j;for(var b=j.length-1;b>=0;b--)if(j[b].name===a)return j[b]},d.removeConfigOption=function(a){for(var b=j.length-1;b>=0;b--)j[b].name===a&&j.splice(b,1)},d.isActive=function(a){for(var b=0;b<g.length;b++)if(g[b].id===a)return!0;return!1},d.getCurrentStates=function(){return g},d.setResizeTimeout=function(a){h=a},d.getResizeTimeout=function(){return h},d.ready=function(){return f=o(),a.attachEvent?a.attachEvent("onresize",k):a.addEventListener&&a.addEventListener("resize",k,!0),m(f),this};var n=function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;10>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},o=function(){var c=0,d=null,e=!1;return"function"==typeof a.matchMedia&&(d=a.matchMedia("(width: 100px)"),"undefined"!=typeof d.addListener&&(e=!0)),e&&(d=a.matchMedia("(width: 100px)"),a.matchMedia("(width:"+a.innerWidth+"px)").matches?c=a.innerWidth:a.matchMedia("(width:"+a.innerWidth+"px)").matches?c=a.outerWidth:a.matchMedia("(width:"+b.body.clientWidth+"px)").matches&&(c=b.body.clientWidth)),0===c&&(c="number"==typeof b.body.clientWidth?b.body.clientWidth:"number"==typeof a.innerWidth?a.innerWidth:b.documentElement&&b.documentElement.clientWidth?b.documentElement.clientWidth:b.innerWidth),c},p=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c},q=function(a,b){return a.sort(function(a,c){var d=a[b],e=c[b];return e>d?-1:d>e?1:0})},r=function(a){for(var b=e.length-1;b>=0;b--)if(e[b].id===a)return e[b]},s=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0},t=function(a,b){for(var c=a.length,d=0;c>d;d++)a[d]===b&&a.splice(d,1);return a},u=function(a){for(var b=a.length,c=0;b>c;c++)a[c]()};d.addConfigOption({name:"minWidth",test:function(){return"number"==typeof this.state.minWidth&&this.state.minWidth<=this.browserWidth?!0:!1}}),d.addConfigOption({name:"maxWidth",test:function(){return"number"==typeof this.state.maxWidth&&this.state.maxWidth>=this.browserWidth?!0:!1}}),a.ssm=d,"function"==typeof a.define&&a.define.amd&&a.define("ssm",[],function(){return a.ssm})}(window,document);